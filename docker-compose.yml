version: "3.9"

services:
  mainnode:
    build:
      context: ./BlockChain
      dockerfile: Dockerfile
    container_name: mainNode
    environment:
      - JAVA_OPTS=-DportNumber=6000 -DfirstNode=true -DhostName=mainNode -DportNumberOfFirstConnect=6000
    networks:
      - blockchain-network
    ports:
      - "6000:6000"

  normalnode1:
    build:
      context: ./BlockChainNode
      dockerfile: Dockerfile
    environment:
      - JAVA_OPTS=-DportNumberOfFirstConnect=6000 -DfirstNode=false -DhostName=mainnode
      - NODE_PORT=6001
    networks:
      - blockchain-network
   
  normalnode2:
    build:
      context: ./BlockChainNode
      dockerfile: Dockerfile
    environment:
      - JAVA_OPTS=-DportNumberOfFirstConnect=6000 -DfirstNode=false -DhostName=mainnode
      - NODE_PORT=6002
    networks:
      - blockchain-network
   
  normalnode3:
    build:
      context: ./BlockChainNode
      dockerfile: Dockerfile
    environment:
      - JAVA_OPTS=-DportNumberOfFirstConnect=6000 -DfirstNode=false -DhostName=mainnode
      - NODE_PORT=6003
    networks:
      - blockchain-network

  normalnode4:
    build:
      context: ./BlockChainNode
      dockerfile: Dockerfile
    environment:
      - JAVA_OPTS=-DportNumberOfFirstConnect=6000 -DfirstNode=false -DhostName=mainnode
      - NODE_PORT=6004
    networks:
      - blockchain-network
   
  normalnode5:
    build:
      context: ./BlockChainNode
      dockerfile: Dockerfile
    environment:
      - JAVA_OPTS=-DportNumberOfFirstConnect=6000 -DfirstNode=false -DhostName=mainnode
      - NODE_PORT=6005
    networks:
      - blockchain-network

networks:
  blockchain-network:
    driver: bridge
